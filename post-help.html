<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘å¸ƒæ±‚åŠ© - æ´æ‰‹ç¤¾åŒº</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* å‘å¸ƒæ±‚åŠ©é¡µé¢ä¸“ç”¨æ ·å¼ */
        .post-help-container {
            max-width: 900px;
            margin: 100px auto 60px;
            padding: 0 20px;
        }
        
        .post-help-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .post-help-header h1 {
            font-size: 2.5rem;
            color: var(--dark-color);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .post-help-header h1:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--primary-gradient);
            border-radius: 2px;
        }
        
        .post-help-header p {
            color: #666;
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.1rem;
        }
        
        .post-help-form {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 40px;
        }
        
        .form-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid #eee;
        }
        
        .form-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .section-title {
            font-size: 1.4rem;
            color: var(--dark-color);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--primary-color);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #555;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-label i {
            color: var(--primary-color);
        }
        
        .required {
            color: var(--danger-color);
        }
        
        .form-control {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #eaeaea;
            border-radius: 8px;
            font-size: 16px;
            transition: var(--transition);
            background: #fafafa;
            font-family: var(--font-main);
        }
        
        .form-control:focus {
            border-color: var(--primary-color);
            background: white;
            box-shadow: 0 0 0 3px rgba(44, 128, 255, 0.1);
            outline: none;
        }
        
        .form-control.error {
            border-color: var(--danger-color);
        }
        
        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }
        
        /* æ±‚åŠ©ç±»å‹é€‰æ‹© */
        .help-type-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .help-type-option {
            border: 2px solid #eaeaea;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background: #fafafa;
        }
        
        .help-type-option:hover {
            border-color: var(--primary-color);
            background: var(--primary-light);
        }
        
        .help-type-option.selected {
            border-color: var(--primary-color);
            background: var(--primary-light);
            color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(44, 128, 255, 0.1);
        }
        
        .help-type-icon {
            font-size: 32px;
            margin-bottom: 10px;
            display: block;
        }
        
        .help-type-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .help-type-desc {
            font-size: 12px;
            color: #666;
        }
        
        /* ç´§æ€¥ç¨‹åº¦é€‰æ‹© */
        .urgency-options {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .urgency-option {
            flex: 1;
            min-width: 150px;
            border: 2px solid #eaeaea;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background: #fafafa;
        }
        
        .urgency-option:hover {
            transform: translateY(-3px);
        }
        
        .urgency-option.selected {
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(44, 128, 255, 0.1);
        }
        
        .urgency-option.emergency {
            border-color: #ffcdd2;
            background: #ffebee;
        }
        
        .urgency-option.emergency.selected {
            border-color: var(--danger-color);
            background: #ffebee;
            color: var(--danger-color);
        }
        
        .urgency-option.high {
            border-color: #ffe0b2;
            background: #fff3e0;
        }
        
        .urgency-option.high.selected {
            border-color: var(--warning-color);
            background: #fff3e0;
            color: var(--warning-color);
        }
        
        .urgency-option.normal {
            border-color: #c8e6c9;
            background: #e8f5e9;
        }
        
        .urgency-option.normal.selected {
            border-color: var(--success-color);
            background: #e8f5e9;
            color: var(--success-color);
        }
        
        .urgency-icon {
            font-size: 24px;
            margin-bottom: 8px;
            display: block;
        }
        
        /* åœ°å›¾é€‰æ‹©åŒºåŸŸ */
        .location-section {
            position: relative;
        }
        
        .location-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .location-input-group input {
            flex: 1;
        }
        
        .map-preview {
            height: 200px;
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-radius: 8px;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            border: 1px solid #ddd;
        }
        
        .map-marker {
            width: 24px;
            height: 24px;
            background: var(--danger-color);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 61, 113, 0.7);
            cursor: pointer;
            position: relative;
        }
        
        .map-marker:after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 30px;
            background: var(--danger-color);
        }
        
        /* å›¾ç‰‡ä¸Šä¼  */
        .image-upload-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 15px;
        }
        
        .image-upload-area:hover {
            border-color: var(--primary-color);
            background: #f8f9fa;
        }
        
        .upload-icon {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .upload-text {
            color: #666;
            margin-bottom: 10px;
        }
        
        .upload-note {
            font-size: 14px;
            color: #999;
        }
        
        .image-preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .image-preview {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            height: 120px;
        }
        
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 24px;
            height: 24px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
        }
        
        /* æäº¤æŒ‰é’®åŒºåŸŸ */
        .submit-section {
            text-align: center;
            margin-top: 40px;
        }
        
        .submit-btn {
            padding: 16px 50px;
            font-size: 18px;
        }
        
        .form-note {
            margin-top: 15px;
            font-size: 14px;
            color: #666;
        }
        
        /* é”™è¯¯æç¤º */
        .error-message {
            color: var(--danger-color);
            font-size: 14px;
            margin-top: 8px;
            display: none;
            align-items: center;
            gap: 5px;
        }
        
        .error-message.show {
            display: flex;
        }
        
        /* æˆåŠŸæç¤º */
        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: none;
            align-items: center;
            gap: 15px;
            font-size: 16px;
        }
        
        .success-message.show {
            display: flex;
        }
        
        /* æ­¥éª¤æŒ‡ç¤ºå™¨ */
        .steps-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            position: relative;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            width: 120px;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #eaeaea;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 10px;
            transition: var(--transition);
        }
        
        .step.active .step-number {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 5px 15px rgba(44, 128, 255, 0.3);
        }
        
        .step.completed .step-number {

            background: var(--success-color);
            color: white;
        }
        
        .step-name {
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }
        
        .step.active .step-name {
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .steps-line {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateY(-50%);
            width: 60%;
            height: 2px;
            background: #eaeaea;
            z-index: 1;
        }
        
        .steps-line-progress {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateY(-50%);
            height: 2px;
            background: var(--primary-color);
            z-index: 1;
            width: 0;
            transition: width 0.5s ease;
        }
        
        @media (max-width: 768px) {
            .post-help-container {
                margin-top: 80px;
            }
            
            .post-help-form {
                padding: 25px;
            }
            
            .help-type-options {
                grid-template-columns: 1fr;
            }
            
            .steps-indicator {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }
            
            .steps-line, .steps-line-progress {
                display: none;
            }
            
            .step {
                flex-direction: row;
                width: 100%;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <header>
        <div class="container">
            <nav class="navbar" aria-label="ä¸»å¯¼èˆª">
                <div class="logo">
                    <i class="fas fa-hands-helping" aria-hidden="true"></i>
                    æ´æ‰‹ç¤¾åŒº
                </div>
                <ul class="nav-links">
                    <li><a href="index.html"><i class="fas fa-home"></i> é¦–é¡µ</a></li>
                    <li><a href="index.html#features"><i class="fas fa-cogs"></i> åŠŸèƒ½</a></li>
                    <li><a href="index.html#cases"><i class="fas fa-images"></i> æ¡ˆä¾‹å±•ç¤º</a></li>
                    <li><a href="login.html" class="btn btn-primary"><i class="fas fa-user-circle"></i> ç™»å½•/æ³¨å†Œ</a></li>
                </ul>
                <button class="mobile-menu" aria-label="åˆ‡æ¢èœå•" aria-expanded="false">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- å‘å¸ƒæ±‚åŠ©ä¸»å†…å®¹ -->
    <main class="post-help-container">
        <!-- æˆåŠŸæç¤º -->
        <div class="success-message" id="success-message">
            <i class="fas fa-check-circle"></i>
            <span>æ±‚åŠ©ä¿¡æ¯å‘å¸ƒæˆåŠŸï¼æˆ‘ä»¬å·²å¼€å§‹ä¸ºæ‚¨åŒ¹é…å¿—æ„¿è€…ï¼Œè¯·ä¿æŒè”ç³»æ–¹å¼ç•…é€šã€‚</span>
        </div>
        
        <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
        <div class="steps-indicator">
            <div class="step active">
                <div class="step-number">1</div>
                <div class="step-name">å¡«å†™åŸºæœ¬ä¿¡æ¯</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-name">æè¿°æ±‚åŠ©å†…å®¹</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-name">ç¡®è®¤å¹¶å‘å¸ƒ</div>
            </div>
            <div class="steps-line"></div>
            <div class="steps-line-progress" id="steps-line-progress"></div>
        </div>
        
        <!-- é¡µé¢æ ‡é¢˜ -->
        <div class="post-help-header">
            <h1>å‘å¸ƒæ±‚åŠ©ä¿¡æ¯</h1>
            <p>è¯·è¯¦ç»†æè¿°æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å°†å°½å¿«ä¸ºæ‚¨åŒ¹é…åˆé€‚çš„å¿—æ„¿è€…ã€‚æ‚¨çš„ä¿¡æ¯å°†å—åˆ°ä¸¥æ ¼ä¿æŠ¤ã€‚</p>
        </div>
        
        <!-- å‘å¸ƒæ±‚åŠ©è¡¨å• -->
        <form class="post-help-form" id="post-help-form">
            <!-- åŸºæœ¬ä¿¡æ¯éƒ¨åˆ† -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-user-circle"></i> åŸºæœ¬ä¿¡æ¯</h3>

                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="help-title">
                            <i class="fas fa-heading"></i>
                            æ±‚åŠ©æ ‡é¢˜ <span class="required">*</span>
                        </label>
                        <input type="text" id="help-title" class="form-control" placeholder="ä¾‹å¦‚ï¼šéœ€è¦å¸®å¿™æ¬è¿å®¶å…·" required>
                        <div class="error-message" id="title-error">
                            <i class="fas fa-exclamation-circle"></i>
                            è¯·è¾“å…¥æ±‚åŠ©æ ‡é¢˜
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="contact-name">
                            <i class="fas fa-user"></i>
                            è”ç³»äºº <span class="required">*</span>
                        </label>
                        <input type="text" id="contact-name" class="form-control" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" required>
                        <div class="error-message" id="name-error">
                            <i class="fas fa-exclamation-circle"></i>
                            è¯·è¾“å…¥è”ç³»äººå§“å
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="contact-phone">
                            <i class="fas fa-phone-alt"></i>
                            è”ç³»ç”µè¯ <span class="required">*</span>
                        </label>
                        <input type="tel" id="contact-phone" class="form-control" placeholder="è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·ç " required>
                        <div class="error-message" id="phone-error">
                            <i class="fas fa-exclamation-circle"></i>
                            è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·ç 
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="contact-email">
                            <i class="fas fa-envelope"></i>
                            ç”µå­é‚®ç®±
                        </label>
                        <input type="email" id="contact-email" class="form-control" placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€">
                    </div>
                </div>
            </div>
            
            <!-- æ±‚åŠ©ç±»å‹éƒ¨åˆ† -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-tags"></i> æ±‚åŠ©ç±»å‹ <span class="required">*</span></h3>
                <p style="color: #666; margin-bottom: 15px;">è¯·é€‰æ‹©æœ€ç¬¦åˆæ‚¨éœ€æ±‚çš„æ±‚åŠ©ç±»å‹ï¼š</p>
                
                <div class="help-type-options">
                    <div class="help-type-option" data-type="daily">
                        <span class="help-type-icon">ğŸ </span>
                        <div class="help-type-name">æ—¥å¸¸ç”Ÿæ´»</div>
                        <div class="help-type-desc">è´­ç‰©ã€é€é¤ã€å®¶æ”¿ç­‰</div>
                    </div>
                    
                    <div class="help-type-option" data-type="medical">
                        <span class="help-type-icon">ğŸ¥</span>
                        <div class="help-type-name">åŒ»ç–—å¥åº·</div>
                        <div class="help-type-desc">å°±åŒ»é™ªæŠ¤ã€è¯å“é…é€ç­‰</div>
                    </div>
                    
                    <div class="help-type-option" data-type="education">
                        <span class="help-type-icon">ğŸ“š</span>
                        <div class="help-type-name">æ•™è‚²è¾…å¯¼</div>
                        <div class="help-type-desc">è¯¾ä¸šè¾…å¯¼ã€æŠ€èƒ½åŸ¹è®­ç­‰</div>
                    </div>
                    
                    <div class="help-type-option" data-type="repair">
                        <span class="help-type-icon">ğŸ”§</span>
                        <div class="help-type-name">ç»´ä¿®ç»´æŠ¤</div>
                        <div class="help-type-desc">å®¶ç”µç»´ä¿®ã€å®¶å±…ç»´ä¿®ç­‰</div>
                    </div>
                    
                    <div class="help-type-option" data-type="transport">
                        <span class="help-type-icon">ğŸš—</span>
                        <div class="help-type-name">äº¤é€šå‡ºè¡Œ</div>
                        <div class="help-type-desc">æ¥é€æœåŠ¡ã€é™ªåŒå‡ºè¡Œç­‰</div>
                    </div>
                    
                    <div class="help-type-option" data-type="other">
                        <span class="help-type-icon">â“</span>
                        <div class="help-type-name">å…¶ä»–ç±»å‹</div>
                        <div class="help-type-desc">å…¶ä»–æœªåˆ—å‡ºçš„æ±‚åŠ©</div>
                    </div>
                </div>
                <input type="hidden" id="help-type" required>
                <div class="error-message" id="type-error">
                    <i class="fas fa-exclamation-circle"></i>
                    è¯·é€‰æ‹©æ±‚åŠ©ç±»å‹
                </div>
            </div>
            
            <!-- ç´§æ€¥ç¨‹åº¦éƒ¨åˆ† -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-exclamation-triangle"></i> ç´§æ€¥ç¨‹åº¦ <span class="required">*</span></h3>
                <p style="color: #666; margin-bottom: 15px;">è¯·æ ¹æ®æ‚¨çš„éœ€æ±‚ç´§æ€¥ç¨‹åº¦é€‰æ‹©ï¼š</p>
                
                <div class="urgency-options">
                    <div class="urgency-option emergency" data-urgency="emergency">
                        <span class="urgency-icon">ğŸš¨</span>
                        <div class="urgency-name">ç´§æ€¥</div>
                        <div class="urgency-desc">éœ€è¦ç«‹å³å¸®åŠ©</div>
                    </div>
                    
                    <div class="urgency-option high" data-urgency="high">
                        <span class="urgency-icon">âš ï¸</span>
                        <div class="urgency-name">é«˜ä¼˜å…ˆçº§</div>
                        <div class="urgency-desc">ä»Šå¤©å†…éœ€è¦å¸®åŠ©</div>
                    </div>
                    
                    <div class="urgency-option normal" data-urgency="normal">
                        <span class="urgency-icon">ğŸ“…</span>
                        <div class="urgency-name">ä¸€èˆ¬</div>
                        <div class="urgency-desc">æœ¬å‘¨å†…éœ€è¦å¸®åŠ©</div>
                    </div>
                </div>
                <input type="hidden" id="help-urgency" required>
                <div class="error-message" id="urgency-error">
                    <i class="fas fa-exclamation-circle"></i>
                    è¯·é€‰æ‹©ç´§æ€¥ç¨‹åº¦
                </div>
            </div>
            
            <!-- è¯¦ç»†æè¿°éƒ¨åˆ† -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-file-alt"></i> è¯¦ç»†æè¿° <span class="required">*</span></h3>
                
                <div class="form-group">
                    <label class="form-label" for="help-description">
                        <i class="fas fa-align-left"></i>
                        è¯¦ç»†æè¿°æ‚¨çš„éœ€æ±‚
                    </label>
                    <textarea id="help-description" class="form-control" placeholder="è¯·å°½å¯èƒ½è¯¦ç»†åœ°æè¿°æ‚¨çš„éœ€æ±‚ï¼ŒåŒ…æ‹¬ï¼š
â€¢ å…·ä½“éœ€è¦ä»€ä¹ˆæ ·çš„å¸®åŠ©
â€¢ éœ€è¦å¸®åŠ©çš„æ—¶é—´å’Œé¢‘ç‡
â€¢ æ˜¯å¦æœ‰ç‰¹æ®Šè¦æ±‚æˆ–æ³¨æ„äº‹é¡¹
â€¢ å…¶ä»–ç›¸å…³ä¿¡æ¯

ä¾‹å¦‚ï¼šéœ€è¦ä¸€ä½å¿—æ„¿è€…æ¯å‘¨ä¸€ã€ä¸‰ã€äº”ä¸‹åˆ3-5ç‚¹å¸®åŠ©æˆ‘85å²çš„æ¯äº²è´­ä¹°ç”Ÿæ´»ç”¨å“å¹¶é€åˆ°å®¶ä¸­ã€‚æ¯äº²ä½åœ¨3æ¥¼æ²¡æœ‰ç”µæ¢¯ï¼Œéœ€è¦å¿—æ„¿è€…æœ‰è€å¿ƒå’Œä½“åŠ›ã€‚è´­ç‰©è´¹ç”¨ç”±æˆ‘æå‰è½¬è´¦ç»™å¿—æ„¿è€…ã€‚" rows="8" required></textarea>
                    <div class="error-message" id="description-error">
                        <i class="fas fa-exclamation-circle"></i>
                        è¯·è¯¦ç»†æè¿°æ‚¨çš„éœ€æ±‚
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="help-time">
                        <i class="fas fa-clock"></i>
                        å¸Œæœ›è·å¾—å¸®åŠ©çš„æ—¶é—´
                    </label>
                    <input type="text" id="help-time" class="form-control" placeholder="ä¾‹å¦‚ï¼šæœ¬å‘¨å…­ä¸Šåˆ9-12ç‚¹ï¼Œæˆ–æ¯å‘¨ä¸€ä¸‹åˆ">
                </div>
            </div>
            
            <!-- åœ°ç†ä½ç½®éƒ¨åˆ† -->
            <div class="form-section location-section">
                <h3 class="section-title"><i class="fas fa-map-marker-alt"></i> åœ°ç†ä½ç½® <span class="required">*</span></h3>
                
                <div class="form-group">
                    <label class="form-label" for="location-detail">
                        è¯¦ç»†åœ°å€
                    </label>
                    <div class="location-input-group">
                        <input type="text" id="location-detail" class="form-control" placeholder="ä¾‹å¦‚ï¼šåŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯88å·SOHOç°ä»£åŸAåº§" required>
                        <button type="button" class="btn btn-outline" id="detect-location">
                            <i class="fas fa-location-arrow"></i> å®šä½
                        </button>
                    </div>
                    <div class="error-message" id="location-error">
                        <i class="fas fa-exclamation-circle"></i>
                        è¯·è¾“å…¥è¯¦ç»†åœ°å€
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">
                        åœ°å›¾ä½ç½®ï¼ˆå¯é€‰ï¼‰
                    </label>
                    <div class="map-preview" id="map-preview">
                        <div class="map-marker" id="map-marker"></div>
                        <div id="map-text">ç‚¹å‡»ä¸Šæ–¹"å®šä½"æŒ‰é’®æˆ–åœ¨åœ°å›¾ä¸Šç‚¹å‡»è®¾ç½®ä½ç½®</div>
                    </div>
                </div>
            </div>
            
            <!-- å›¾ç‰‡ä¸Šä¼ éƒ¨åˆ† -->
            <div class="form-section">
                <h3 class="section-title"><i class="fas fa-images"></i> ä¸Šä¼ å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰</h3>
                <p style="color: #666; margin-bottom: 15px;">ä¸Šä¼ ç›¸å…³å›¾ç‰‡å¯ä»¥å¸®åŠ©å¿—æ„¿è€…æ›´å¥½åœ°ç†è§£æ‚¨çš„éœ€æ±‚ï¼ˆæœ€å¤š5å¼ ï¼‰</p>
                
                <div class="image-upload-area" id="image-upload-area">
                    <div class="upload-icon">
                        <i class="fas fa-cloud-upload-alt"></i>
                    </div>
                    <div class="upload-text">
                        ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡
                    </div>
                    <div class="upload-note">
                        æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œæ¯å¼ å›¾ç‰‡ä¸è¶…è¿‡ 5MB
                    </div>
                    <input type="file" id="image-upload" accept="image/*" multiple style="display: none;">
                </div>
                
                <div class="image-preview-container" id="image-preview-container">
                    <!-- å›¾ç‰‡é¢„è§ˆå°†åœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ  -->
                </div>
            </div>
            
            <!-- æäº¤éƒ¨åˆ† -->
            <div class="submit-section">
                <button type="submit" class="btn btn-primary submit-btn" id="submit-btn">
                    <i class="fas fa-paper-plane"></i>
                    å‘å¸ƒæ±‚åŠ©ä¿¡æ¯
                </button>
                <div class="form-note">
                    å‘å¸ƒå³è¡¨ç¤ºæ‚¨åŒæ„æˆ‘ä»¬çš„<a href="#">æœåŠ¡æ¡æ¬¾</a>å’Œ<a href="#">éšç§æ”¿ç­–</a>
                </div>
            </div>
        </form>
    </main>

    <!-- æ™ºèƒ½èŠå¤©åŠ©æ‰‹ï¼ˆä¸é¦–é¡µç›¸åŒï¼‰ -->
    <div class="ai-assistant" role="dialog" aria-labelledby="assistant-title">
        <div class="assistant-header">
            <div class="assistant-avatar">
                <span>ğŸ¤–</span>
            </div>
            <div class="assistant-info">
                <h5 id="assistant-title">æ´æ‰‹å°åŠ©æ‰‹</h5>
                <p>æ™ºèƒ½åŒ¹é… | 24å°æ—¶åœ¨çº¿</p>
            </div>
            <button class="minimize-btn" aria-label="æœ€å°åŒ–èŠå¤©åŠ©æ‰‹">âˆ’</button>
        </div>
        
        <div class="chat-messages">
            <div class="message assistant">
                æ‚¨å¥½ï¼æˆ‘æ˜¯æ´æ‰‹æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨å¿«é€Ÿå‘å¸ƒæ±‚åŠ©æˆ–åŒ¹é…å¿—æ„¿è€…ã€‚è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ
            </div>
        </div>
        
        <div class="quick-actions">
            <button class="quick-btn" data-action="emergency"><i class="fas fa-exclamation-circle"></i> ç´§æ€¥æ±‚åŠ©</button>
            <button class="quick-btn" data-action="volunteer"><i class="fas fa-hands"></i> æˆä¸ºå¿—æ„¿è€…</button>
            <button class="quick-btn" data-action="donate"><i class="fas fa-donate"></i> æˆ‘è¦æèµ </button>
        </div>
    </div>

    <script>
        // å‘å¸ƒæ±‚åŠ©é¡µé¢ä¸“ç”¨JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // æ­¥éª¤æŒ‡ç¤ºå™¨æ›´æ–°
            function updateSteps() {
                const steps = document.querySelectorAll('.step');
                const lineProgress = document.getElementById('steps-line-progress');
                
                // è®¡ç®—è¿›åº¦æ¡å®½åº¦
                const activeIndex = Array.from(steps).findIndex(step => step.classList.contains('active'));
                if (activeIndex >= 0) {
                    const progressWidth = (activeIndex / (steps.length - 1)) * 100;
                    lineProgress.style.width = progressWidth + '%';
                }
            }
            
            // åˆå§‹åŒ–æ­¥éª¤
            updateSteps();
            
            // æ±‚åŠ©ç±»å‹é€‰æ‹©
            const helpTypeOptions = document.querySelectorAll('.help-type-option');
            const helpTypeInput = document.getElementById('help-type');
            
            helpTypeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    helpTypeOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    helpTypeInput.value = this.getAttribute('data-type');
                    hideError('type-error');
                });
            });
            
            // ç´§æ€¥ç¨‹åº¦é€‰æ‹©
            const urgencyOptions = document.querySelectorAll('.urgency-option');
            const urgencyInput = document.getElementById('help-urgency');
            
            urgencyOptions.forEach(option => {
                option.addEventListener('click', function() {
                    urgencyOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    urgencyInput.value = this.getAttribute('data-urgency');
                    hideError('urgency-error');
                });
            });
            
            // å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
            const imageUploadArea = document.getElementById('image-upload-area');
            const imageUploadInput = document.getElementById('image-upload');
            const imagePreviewContainer = document.getElementById('image-preview-container');
            let uploadedImages = [];
            
            imageUploadArea.addEventListener('click', function() {
                imageUploadInput.click();
            });
            
            // æ‹–æ‹½ä¸Šä¼ 
            imageUploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = 'var(--primary-color)';
                this.style.background = '#f0f7ff';
            });
            
            imageUploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.borderColor = '#ddd';
                this.style.background = '';
            });
            
            imageUploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = '#ddd';
                this.style.background = '';
                
                const files = e.dataTransfer.files;
                handleImageFiles(files);
            });
            
            imageUploadInput.addEventListener('change', function(e) {
                const files = e.target.files;
                handleImageFiles(files);
            });
            
            function handleImageFiles(files) {
                if (uploadedImages.length + files.length > 5) {
                    alert('æœ€å¤šåªèƒ½ä¸Šä¼ 5å¼ å›¾ç‰‡');
                    return;
                }
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    
                    // æ£€æŸ¥æ–‡ä»¶ç±»å‹å’Œå¤§å°
                    if (!file.type.match('image.*')) {
                        alert('è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶');
                        continue;
                    }
                    
                    if (file.size > 5 * 1024 * 1024) {
                        alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MB');
                        continue;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageData = {
                            id: Date.now() + i,
                            name: file.name,
                            data: e.target.result
                        };
                        
                        uploadedImages.push(imageData);
                        renderImagePreview();
                    };
                    reader.readAsDataURL(file);
                }
                
                // é‡ç½®æ–‡ä»¶è¾“å…¥ï¼Œå…è®¸é‡å¤ä¸Šä¼ ç›¸åŒæ–‡ä»¶
                imageUploadInput.value = '';
            }
            
            function renderImagePreview() {
                imagePreviewContainer.innerHTML = '';
                
                uploadedImages.forEach(image => {
                    const previewDiv = document.createElement('div');
                    previewDiv.className = 'image-preview';
                    previewDiv.innerHTML = `
                        <img src="${image.data}" alt="${image.name}">
                        <div class="remove-image" data-id="${image.id}">
                            <i class="fas fa-times"></i>
                        </div>
                    `;
                    imagePreviewContainer.appendChild(previewDiv);
                });
                
                // æ·»åŠ åˆ é™¤äº‹ä»¶
                document.querySelectorAll('.remove-image').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        uploadedImages = uploadedImages.filter(img => img.id !== id);
                        renderImagePreview();
                    });
                });
            }
            
            // å®šä½åŠŸèƒ½
            const detectLocationBtn = document.getElementById('detect-location');
            const mapPreview = document.getElementById('map-preview');
            const mapMarker = document.getElementById('map-marker');
            const mapText = document.getElementById('map-text');
            
            detectLocationBtn.addEventListener('click', function() {
                if (navigator.geolocation) {
                    detectLocationBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> å®šä½ä¸­...';
                    detectLocationBtn.disabled = true;
                    
                    navigator.geolocation.getCurrentPosition(
                        function(position) {
                            const lat = position.coords.latitude;
                            const lng = position.coords.longitude;
                            
                            // æ¨¡æ‹Ÿè·å–åœ°å€ï¼ˆå®é™…åº”ç”¨ä¸­åº”è°ƒç”¨åœ°ç†ç¼–ç APIï¼‰
                            const mockAddress = "åŒ—äº¬å¸‚æœé˜³åŒºå»ºå›½è·¯88å·SOHOç°ä»£åŸé™„è¿‘";
                            document.getElementById('location-detail').value = mockAddress;
                            
                            // æ˜¾ç¤ºåœ°å›¾æ ‡è®°
                            mapMarker.style.display = 'block';
                            mapText.style.display = 'none';
                            mapPreview.style.background = 'linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%)';
                            
                            detectLocationBtn.innerHTML = '<i class="fas fa-check-circle"></i> å®šä½æˆåŠŸ';
                            setTimeout(() => {
                                detectLocationBtn.innerHTML = '<i class="fas fa-location-arrow"></i> é‡æ–°å®šä½';
                                detectLocationBtn.disabled = false;
                            }, 2000);
                            
                            hideError('location-error');
                        },
                        function(error) {
                            console.error('å®šä½å¤±è´¥:', error);
                            alert('å®šä½å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥åœ°å€æˆ–æ£€æŸ¥å®šä½æƒé™');
                            
                            detectLocationBtn.innerHTML = '<i class="fas fa-location-arrow"></i> å®šä½';
                            detectLocationBtn.disabled = false;
                        }
                    );
                } else {
                    alert('æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†ä½ç½®åŠŸèƒ½');
                }
            });
            
            // ç‚¹å‡»åœ°å›¾è®¾ç½®ä½ç½®
            mapPreview.addEventListener('click', function(e) {
                if (e.target === mapPreview || e.target === mapText) {
                    mapMarker.style.display = 'block';
                    mapText.style.display = 'none';
                    mapPreview.style.background = 'linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%)';
                    
                    // ç§»åŠ¨æ ‡è®°åˆ°ç‚¹å‡»ä½ç½®
                    const rect = mapPreview.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    mapMarker.style.left = x + 'px';
                    mapMarker.style.top = y + 'px';
                    mapMarker.style.transform = 'translate(-50%, -50%)';
                }
            });
            
            // é”™è¯¯æ˜¾ç¤º/éšè—å‡½æ•°
            function showError(errorId) {
                const errorElement = document.getElementById(errorId);
                if (errorElement) {
                    errorElement.classList.add('show');
                }
            }
            
            function hideError(errorId) {
                const errorElement = document.getElementById(errorId);
                if (errorElement) {
                    errorElement.classList.remove('show');
                }
            }
            
            // è¡¨å•éªŒè¯å‡½æ•°
            function validatePhone(phone) {
                const re = /^1[3-9]\d{9}$/;
                return re.test(phone);
            }
            
            function validateEmail(email) {
                if (!email) return true; // é‚®ç®±å¯é€‰
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            }
            
            // åŠ è½½çŠ¶æ€è®¾ç½®
            function setLoading(isLoading) {
                const submitBtn = document.getElementById('submit-btn');
                if (isLoading) {
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> æäº¤ä¸­...';
                    submitBtn.disabled = true;
                } else {
                    submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> å‘å¸ƒæ±‚åŠ©ä¿¡æ¯';
                    submitBtn.disabled = false;
                }
            }
            
            // è¡¨å•æäº¤å¤„ç†
            const postHelpForm = document.getElementById('post-help-form');
            const successMessage = document.getElementById('success-message');
            
            postHelpForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                let isValid = true;
                
                // éªŒè¯æ ‡é¢˜
                const title = document.getElementById('help-title');
                if (!title.value.trim()) {
                    showError('title-error');
                    isValid = false;
                } else {
                    hideError('title-error');
                }
                
                // éªŒè¯è”ç³»äºº
                const name = document.getElementById('contact-name');
                if (!name.value.trim()) {
                    showError('name-error');
                    isValid = false;
                } else {
                    hideError('name-error');
                }
                
                // éªŒè¯ç”µè¯
                const phone = document.getElementById('contact-phone');
                if (!validatePhone(phone.value)) {
                    showError('phone-error');
                    isValid = false;
                } else {
                    hideError('phone-error');
                }
                
                // éªŒè¯é‚®ç®±
                const email = document.getElementById('contact-email');
                if (!validateEmail(email.value)) {
                    // é‚®ç®±éªŒè¯é”™è¯¯ä¸é˜»æ­¢æäº¤ï¼Œå› ä¸ºé‚®ç®±æ˜¯å¯é€‰çš„
                    email.classList.add('error');
                } else {
                    email.classList.remove('error');
                }
                
                // éªŒè¯æ±‚åŠ©ç±»å‹
                const helpType = document.getElementById('help-type');
                if (!helpType.value) {
                    showError('type-error');
                    isValid = false;
                } else {
                    hideError('type-error');
                }
                
                // éªŒè¯ç´§æ€¥ç¨‹åº¦
                const urgency = document.getElementById('help-urgency');
                if (!urgency.value) {
                    showError('urgency-error');
                    isValid = false;
                } else {
                    hideError('urgency-error');
                }
                
                // éªŒè¯æè¿°
                const description = document.getElementById('help-description');
                if (!description.value.trim() || description.value.trim().length < 20) {
                    showError('description-error');
                    isValid = false;
                } else {
                    hideError('description-error');
                }
                
                // éªŒè¯åœ°å€
                const location = document.getElementById('location-detail');
                if (!location.value.trim()) {
                    showError('location-error');
                    isValid = false;
                } else {
                    hideError('location-error');
                }
                
                if (!isValid) {
                    // æ»šåŠ¨åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯
                    const firstError = document.querySelector('.error-message.show');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                    return;
                }
                
                // è¡¨å•éªŒè¯é€šè¿‡ï¼Œæ¨¡æ‹Ÿæäº¤
                setLoading(true);
                
                // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
                setTimeout(() => {
                    setLoading(false);
                    
                    // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
                    successMessage.classList.add('show');
                    
                    // æ»šåŠ¨åˆ°é¡¶éƒ¨
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
                    const steps = document.querySelectorAll('.step');
                    steps.forEach(step => step.classList.remove('active'));
                    steps[2].classList.add('active', 'completed');
                    updateSteps();
                    
                    // é‡ç½®è¡¨å•ï¼ˆå¯é€‰ï¼‰
                    // postHelpForm.reset();
                    // uploadedImages = [];
                    // renderImagePreview();
                    
                    // æ¨¡æ‹Ÿè·³è½¬ï¼ˆåœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šè·³è½¬åˆ°æ±‚åŠ©è¯¦æƒ…é¡µé¢ï¼‰
                    console.log('æ±‚åŠ©ä¿¡æ¯æäº¤æˆåŠŸ:', {
                        title: title.value,
                        name: name.value,
                        phone: phone.value,
                        email: email.value,
                        type: helpType.value,
                        urgency: urgency.value,
                        description: description.value,
                        location: location.value,
                        images: uploadedImages.length
                    });
                    
                    // 5ç§’åéšè—æˆåŠŸæ¶ˆæ¯
                    setTimeout(() => {
                        successMessage.classList.remove('show');
                    }, 5000);
                    
                }, 2000);
            });
            
            // å®æ—¶éªŒè¯è¾“å…¥
            document.querySelectorAll('.form-control').forEach(input => {
                input.addEventListener('input', function() {
                    this.classList.remove('error');
                    
                    // ç§»é™¤å¯¹åº”é”™è¯¯æ¶ˆæ¯
                    const errorId = this.id + '-error';
                    hideError(errorId);
                });
            });
            
            // åŠ è½½å¯¼èˆªæ è„šæœ¬
            const mobileMenuBtn = document.querySelector('.mobile-menu');
            const navLinks = document.querySelector('.nav-links');
            const menuIcon = mobileMenuBtn?.querySelector('i');
            
            if (mobileMenuBtn && navLinks) {
                mobileMenuBtn.addEventListener('click', function() {
                    const isExpanded = this.getAttribute('aria-expanded') === 'true' || false;
                    navLinks.classList.toggle('active');
                    this.setAttribute('aria-expanded', !isExpanded);
                    
                    if (navLinks.classList.contains('active')) {
                        menuIcon.classList.remove('fa-bars');
                        menuIcon.classList.add('fa-times');
                    } else {
                        menuIcon.classList.remove('fa-times');
                        menuIcon.classList.add('fa-bars');
                    }
                });
                
                // ç‚¹å‡»å¯¼èˆªé“¾æ¥å…³é—­ç§»åŠ¨ç«¯èœå•
                document.querySelectorAll('.nav-links a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (window.innerWidth <= 768 && navLinks.classList.contains('active')) {
                            navLinks.classList.remove('active');
                            mobileMenuBtn.setAttribute('aria-expanded', 'false');
                            menuIcon.classList.remove('fa-times');
                            menuIcon.classList.add('fa-bars');
                        }
                    });
                });
            }
            
            // æ™ºèƒ½èŠå¤©åŠ©æ‰‹åŠŸèƒ½
            const aiAssistant = document.querySelector('.ai-assistant');
            const minimizeBtn = document.querySelector('.minimize-btn');
            
            if (aiAssistant) {
                // å»¶è¿Ÿæ˜¾ç¤ºèŠå¤©åŠ©æ‰‹
                setTimeout(() => {
                    aiAssistant.classList.add('active');
                }, 2000);
                
                // æœ€å°åŒ–/æ¢å¤èŠå¤©åŠ©æ‰‹
                if (minimizeBtn) {
                    minimizeBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        aiAssistant.classList.toggle('minimized');
                        const isMinimized = aiAssistant.classList.contains('minimized');
                        this.textContent = isMinimized ? '+' : 'âˆ’';
                        this.setAttribute('aria-label', isMinimized ? 'å±•å¼€èŠå¤©åŠ©æ‰‹' : 'æœ€å°åŒ–èŠå¤©åŠ©æ‰‹');
                    });
                }
                
                // ç‚¹å‡»æœ€å°åŒ–çŠ¶æ€æ¢å¤
                aiAssistant.addEventListener('click', function(e) {
                    if (this.classList.contains('minimized')) {
                        this.classList.remove('minimized');
                        minimizeBtn.textContent = 'âˆ’';
                        minimizeBtn.setAttribute('aria-label', 'æœ€å°åŒ–èŠå¤©åŠ©æ‰‹');
                    }
                });
                
                // å¿«é€Ÿæ“ä½œæŒ‰é’®
                document.querySelectorAll('.quick-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const action = this.getAttribute('data-action');
                        let message = '';
                        
                        switch(action) {
                            case 'emergency':
                                message = 'æ­£åœ¨ä¸ºæ‚¨è·³è½¬åˆ°ç´§æ€¥æ±‚åŠ©é¡µé¢...';
                                break;
                            case 'volunteer':
                                message = 'æ­£åœ¨ä¸ºæ‚¨è·³è½¬åˆ°å¿—æ„¿è€…æ³¨å†Œé¡µé¢...';
                                window.location.href = 'login.html';
                                return;
                            case 'donate':
                                message = 'æ­£åœ¨ä¸ºæ‚¨è·³è½¬åˆ°æèµ é¡µé¢...';
                                break;
                        }
                        
                        const messagesDiv = document.querySelector('.chat-messages');
                        if (messagesDiv) {
                            const newMessage = document.createElement('div');
                            newMessage.className = 'message assistant';
                            newMessage.textContent = message;
                            messagesDiv.appendChild(newMessage);
                            messagesDiv.scrollTop = messagesDiv.scrollHeight;
                        }
                    });
                });
            }
            
            // å¯¼èˆªæ æ»šåŠ¨æ•ˆæœ
            const header = document.querySelector('header');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
            
            // è¾“å…¥æ¡†è·å–ç„¦ç‚¹æ—¶æ›´æ–°æ­¥éª¤
            document.querySelectorAll('.form-control, textarea').forEach(input => {
                input.addEventListener('focus', function() {
                    // æ ¹æ®è¾“å…¥æ¡†æ‰€åœ¨çš„åŒºåŸŸæ›´æ–°æ­¥éª¤
                    const section = this.closest('.form-section');
                    if (section) {
                        const sections = document.querySelectorAll('.form-section');
                        const sectionIndex = Array.from(sections).indexOf(section);
                        
                        const steps = document.querySelectorAll('.step');
                        steps.forEach(step => step.classList.remove('active'));
                        
                        if (sectionIndex >= 0 && sectionIndex < steps.length) {
                            steps[sectionIndex].classList.add('active');
                            updateSteps();
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>